<% content_for :styles do %>
    <%= stylesheet_link_tag "controllers/orders/index" %>
<% end %>

<%= simple_form_for [:platform, :school, @teacher], html: {'data-parsley-validate': true, id: 'profile_form', class: ""} do |f| %>
    <div class="addchild-list marginbottom" style="padding: 10px 34px 20px 34px;">
      <!--    <div style="margin-left: 356px; margin-top: 30px;">-->
      <%#= webuploader_tag :avatar_id, label: '上传照片', type: 'user_avatar', asset: @teacher.try(:user).try(:avatar), klass: 'single' %>
      <!--    </div>-->
      <p class="don-title">基本信息</p>
      <div class="addchild-list-cont clearfix">
        <div class="clearfix">
          <span class="goodtext pull-left">真实姓名</span>
          <%= f.text_field :name, placeholder: '请输入真实姓名', class: "goodinput pull-left", data: {'parsley-required': true} %>
        </div>
        <div class="clearfix">
          <span class="goodtext pull-left">身份证号</span>
          <%= f.text_field :id_card, placeholder: '请输入身份证号', class: "goodinput pull-left", data: {'parsley-required': true, 'parsley-shenfen': true} %>
        </div>
        <!--      <div>-->
        <!--        <span class="goodtext">民族</span>-->
        <%#= f.input :name, as: :select, collection: ProjectSeasonApplyChild.options_for_enum_select(:nations), include_blank: false, label: false, input_html: {id: 'select-nation', class: '', style: "width: 451px;"} %>
        <!--      </div>-->
        <div class="clearfix">
          <span class="goodtext pull-left">QQ号</span>
          <%= f.text_field :qq, placeholder: '请输入QQ号', class: "goodinput pull-left", data: {type: "number", "parsley-type": "integer"} %>
        </div>
        <div class="clearfix">
          <span class="goodtext pull-left">微信号</span>
          <%= f.text_field :openid, placeholder: '请输入微信号', class: "goodinput pull-left" %>
        </div>
        <div class="clearfix">
          <span class="goodtext pull-left">联系方式</span>
          <%= f.text_field :phone, placeholder: '填写班主任联系方式', class: "goodinput pull-left", data: {'parsley-required': true, 'parsley-phone': true} %>
        </div>
        <div style="position: relative;height: auto;" class="clearfix">
          <span class="goodtext pull-left">项目权限</span>
          <div style="-ms-flex: 0 0 70%;
              flex: 0 0 70%;
              max-width: 70%;width:70%;" class="pull-left">
            <%= f.input :project_ids, as: :select, collection: Project.sorted.map {|c| [c.name, c.id]}, include_blank: false, label: false, input_html: {id: 'select2_project', multiple: true, data: {'parsley-required': true}}, class: 'goodinput pull-left' %>
          </div>
        </div>
        <div style="margin: -16px 0 0 0 ;">
          <p class="posarrmarl">*项目权限可多选*</p>
        </div>
      </div>
    </div>
    <div class="childern-submint">
      <%= f.button :submit, '保存', class:'btns save-btn' %>
      <%= link_to "取消", platform_school_teachers_path, class: "btns cancel-btn" %>
    </div>
<% end %>

<script>


    $('#select-nation').select2({
        width: "100%",
        minimumResultsForSearch: -1
    })

    $(function () {
        $('#select2_project').select2({
            width: "100%",
            language: "zh-CN",
            placeholder: '支持多选',
            allowClear: true,
            multiple: true,
            minimumResultsForSearch: -1
        });
    })

</script>
